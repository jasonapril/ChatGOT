# conf/config.yaml - Main Hydra configuration file

# @package _global_

defaults:
  - _self_
  # Experiment config is now mandatory and self-contained
  - experiment: ???
  # REMOVED base experiment loading and override logic

# General settings
project_name: "Craft"
experiment_name: "default_experiment" # Add experiment name field

# Add other top-level or default settings as needed 

# Configuration for data handling - REMOVED `data: ???` as it's handled within experiment
# data: ??? # Ensure this is resolved by defaults

# Configuration for tokenizer (placeholder)
# tokenizer: ??? # REMOVE tokenizer placeholder

# Configuration for the trainer 

# General Run Settings
seed: 42
# Remove checkpoint_dir - will be constructed in script from hydra.run.dir
log_level: "DEBUG"
force_cpu: False
resume_from: null # Can be set to "latest" or a specific path/to/checkpoint.pt via command line

# Hydra settings (can be overridden)
hydra:
  output_subdir: .hydra
  run:
    # Use original CWD as the base for relative paths in config
    dir: outputs/experiments/${experiment_name}/runs/${now:%Y-%m-%d}/${now:%H-%M-%S}
  job:
    chdir: true # Change back to true as it was in the working config
  sweep:
    dir: multirun/${now:%Y-%m-%d}/${now:%H-%M-%S}
    subdir: ${hydra.job.num}

# Remove the conflicting top-level generation block
# # Add a new group for generation parameters
# generation:
#   start_prompt: "The meaning of life is\n"
#   max_new_tokens: 200
#   temperature: 0.8
#   top_k: null # null corresponds to Python None, or you can set an integer like 50 

# Seed for reproducibility
device: auto

# Custom Log Formatters
formatters:
  standard:
    format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
  minimal:
    format: '%(message)s' 